<!DOCTYPE html>
<html lang="en" data-layout-decorate="fragments/layout" xmlns:th="http://www.thymeleaf.org">

<body>
<div id="wrapper">
    <!-- Page Content -->
    <div id="page-wrapper" data-layout-fragment="page-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Faculties</h1>
                    <div class="panel-body" ng-app="myApp" ng-controller="facultiesCtrl">


                        <table width="100%" class="table table-striped table-bordered table-hover"
                               id="dataTables-example">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>Full Name</th>
                                <th>Abbreviation Name</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                            </thead>

                        </table>
                        
                        <form action="/api/faculties" method="post">
                            First name: <input type="text" name="fname"><br>
                            Last name: <input type="text" name="lname"><br>
                            <button type="submit">Submit</button>
                            <button type="submit" formmethod="post">Submit using POST</button>
                        </form>

                    </div>

                    <!-- jQuery -->
                    <script src="/vendor/jquery/jquery.min.js"></script>
                    <script>
                        $(document).ready(function () {
                            var table = $('#dataTables-example').DataTable({
                                ajax: {
                                    url: '/api/faculties',
                                    dataSrc: '',
                                },
                                "columnDefs": [
                                    {
                                        "targets": -1,
                                        "defaultContent": ["<button id='btnDelete'>Delte</button>"]
                                    },
                                    {
                                        "targets": -2,
                                        "defaultContent": ["<button id ='btnEdit'>Edit</button>"]
                                    }
                                ],
                                columns: [
                                    {data: 'id'},
                                    {data: 'fullName'},
                                    {data: 'abbreviationName'},
                                    {data: null},
                                    {data: null}
                                ]
                            })


                            $('#dataTables-example tbody').on( 'click', '#btnDelete', function () {
                                var data = table.row( $(this).parents('tr') ).data();
                                alert( "Delete: " + data["fullName"] );
                            } );

                            $('#dataTables-example tbody').on( 'click', '#btnEdit', function () {
                                var data = table.row( $(this).parents('tr') ).data();
                                alert( "Edit: " + data["fullName"] );
                            } );
                        });


                    </script>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
        </div>
        <!-- /.container-fluid -->
    </div>
    <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->
</body>
</html>
